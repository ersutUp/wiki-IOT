

# 基本语法

## 语句

**语句就是程序执行的一个操作命令。C 语言规定，语句必须使用分号结尾。**

#### 示例

```c
//定义一个变量 x ，并将 x 的值设置为 1
int x = 1;
```

编译器通过 `;` 判断语句结束，所以多个语句可以写在同一行，同一个语句也可以写在多行。

```c
//多个语句在同一行
int y; y=2;

int z;
//一个语句在多行
z
=
3
;
```

> [示例源文件](./statement.c)

## 表达式

表达式（expression）是一个计算式，用来获取值。

#### 算数表达式示例

```c
1+1;
3-1;
6/2;
2*2;
```

#### 条件表达式示例

```c
2>1;
2<1;
1==1;
```

> [示例源文件](./expression.c)

#### 表达式与语句的区别

1. 语句可以包含表达式，但是表达式本身不构成语句。
2. 表达式都有返回值，语句不一定有。因为语句用来执行某个命令，很多时候不需要返回值，比如变量声明语句（`int x = 1`）就没有返回值。

## 注释

**注释是对代码的说明，编译器会忽略注释**，也就是说，注释对实际代码没有影响。

#### 多行注释

示例：

```c
/*注释内容可以是单行*/

/*
第一行
第二行
可以是多行
*/
```

这种注释可以在行内使用，例如：

```c
int x /*注释*/ = 1;
```

#### 单行注释

示例：

```c
//可以单独一行
int y = 1;//也可以在语句的行尾
```

#### 注意

- 双引号中不能添加注释。因为双引号中的内容会被识别为字符串。

  ```c
  printf("//单行注释 /*多行注释*/")
  ```

- 编译时，注释会被替换成一个空格，例如 `ag/*error*/e` 会编译为 `ag e`

  ```c
  int age = 10;
  //printf("\n%d",ag/*error*/e);//这行会报错因为注解会编译为空格
  ```

> [示例源文件](./annotation.c)

## 标准库，头文件

程序需要用到的功能，不一定需要自己编写，C 语言可能已经自带了。

**C 语言自带的所有这些功能，统称为“标准库”（standard library）。**

**不同的功能定义在不同的文件里面，这些文件统称为“头文件”（header file）。**

如果要使用某个功能，就必须先加载对应的头文件，加载使用的是**`#include`命令。**

例如使用`printf()`功能，那么就需要加载头文件`stdio.h`

**注意，加载头文件的`#include`语句不需要分号结尾**

## 占位符

`printf()`在输出文本时可以使用占位符，所谓的**占位符就是使用其他值代替这个位置。**

```c
//输出-> 占位符输出整数：100
printf("占位符输出整数：%i",100);
```

上面示例中`%i`就是占位符，最终输出`占位符输出整数：100`。占位符一律以`%`开头，第二个字符`i`表示占位符的类型，`%i`代表要替换为一个整数。

<br/>

**占位符可以使用多个。**

```c
//多个占位符输出-姓名：王二飞，性别：男，年龄：18
printf("多个占位符输出-姓名：%s，性别：%s，年龄：%i","王二飞","男",18);
```

上面示例中使用了一个`%i`以及两个`%s`占位符，`%s`代表要替换一个字符串。多个占位符时按照顺序替换，第一个占位符`%s`替换第二个参数（王二飞），第二个占位符`%s`替换第三个参数（男），第三个占位符`%i`替换第四个参数（18）。

<br/>

> [示例源文件](./placeholder.c)

<br/>

占位符的种类有很多，下表是一些**常用的占位符**

| 占位符 | 含义 |
| ---: | ---- |
|%a|浮点数|
|%A|浮点数|
|%c|字符|
|%d|十进制整数|
|%e|使用科学计数法的浮点数，指数部分的e为小写|
|%E|使用科学计数法的浮点数，指数部分的E为大写|
|%i|整数，基本等同于%d|
|%f|小数（包含float类型和double类型）|
|%g|6个有效数字的浮点数。整数部分一旦超过6位，就会自动转为科学计数法，指数部分的e为小写|
|%G|等同于%g，唯一的区别是指数部分的E为大写|
|%hd|十进制 short int 类型|
|%ho|八进制 short int 类型|
|%hx|十六进制 short int 类型|
|%hu|unsigned short int 类型|
|%ld|十进制 long int 类型|
|%lo|八进制 long int 类型|
|%lx|十六进制 long int 类型|
|%lu|unsigned long int 类型|
|%lld|十进制 long long int 类型|
|%llo|八进制 long long int 类型|
|%llx|十六进制 long long int 类型|
|%llu|unsigned long long int 类型|
|%Le|科学计数法表示的 long double 类型浮点数|
|%Lf|long double 类型浮点数|
|%n|已输出的字符串数量。该占位符本身不输出，只将值存储在指定变量之中|
|%o|八进制整数|
|%p|指针|
|%s|字符串|
|%u|无符号整数（unsigned int）|
|%x|十六进制整数|
|%zd|size_t类型|
|%%|输出一个百分号|

### 输出格式                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

##### 限定宽度

在`%`后添加数字可以限制占位符的最小宽度。

```c
//输出为"  453"
printf("%5d\n",453);
```

上面示例中，`%5d` 限制最小宽度为5位，不满足5位时使用空格补齐。由于453不满足5位，在前面添加2个空格。

输出的内容**默认为右对齐**，在`%`后数字前添加`-`会变为右对齐。示例：

```c
//输出为"453  xx"
printf("%-5dxx\n",453);
```

对于小数中也可以使用同样的方式设置最小宽度。

```c
//输出为" 123.120000"
printf("%11f\n",123.12);
```

上面示例中，`%11f`限制最小宽度为11位，由于小数的精度默认为6位，所以输出结果在头部会添加一个空格。

内容左对齐在小数中也同样适用

```c
//输出为"123.123457 xx"
printf("%-11fxx\n",123.12345655);
```

##### 限定小数精度

输出小数时精度默认位6位，可以通过下面这个示例进行控制

```c
//输出为"123.35"
printf("%.2f\n",123.345);
```

上面示例中，`%.2f`限制小数精度为2，即保留两位小数。

如果限制精度超出了当前小数个数，则使用0补齐。

```c
//输出为"123.34500"
printf("%.5f\n",123.345);
```

限定宽度可以与限定小数精度同时使用

```c
//输出为" 1.74"
printf("%5.2f\n",1.737); 
```

上面示例中，`%5.2f`表示限定最小宽度为5，限定小数精度为2。所以输出内容的前面添加一个空格。

##### 总是显示正负号

默认情况下，`printf()`不对正数显示`+`，只对负数显示`-`。如果想让正数显示`+`，需要再占位符的`%`后添加一个`+`

```c
//输出为"+3.141593"
printf("%+f\n",3.1415926);
//输出为"3.141593"
printf("%f\n",3.1415926);
//输出为"-3.141593"
printf("%+f\n",-3.1415926);
//输出为"-3.141593"
printf("%f\n",-3.1415926);
//输出为"+5"
printf("%+d\n",5);
//输出为"5"
printf("%d\n",5);
//输出为"-5"
printf("%+d\n",-5);
//输出为"-5"
printf("%d\n",-5);
```

##### 输出部分字符串

`%s`是输出字符串，默认输出全部。下面实例中，输出开头一段内容

```c
//输出为"hello"
printf("%.5s\n","hello world");
```

上面示例中，`%.5s`表示输出前5个字符，其中的5代表输出字符的长度。

##### 使用*代替限定值位置，通过参数传入限定值

```c
//左对齐并且宽度至少为10位
printf("%*dxx\n",-10,456543);
//输出前三位字符
printf("%.*s\n",3,"hello world");
//宽度至少10位并且保留4位小数
printf("%*.*f\n",10,4,123.12345655);
```

[示例源文件](./outputFormat.c)

